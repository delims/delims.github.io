---
layout: post
author: delims
categories: iOS
---

# 编译系统

> hello.c 程序的编译过程分为4个阶段。

- 预处理阶段。

预处理器(cpp)根据以字符 # 开头的命令修改源文件。

比如遇到#include<stdio.h> 会直接将stdio.h的文件内容插入到程序文件中，生成 hello.i 文件

- 编译阶段

编译器(ccl) 将文本文件 hello.i 翻译成文本文件 hello.s 的汇编程序。

- 汇编阶段

汇编器 as 将 hello.s 翻译成机器语言指令，将结果保存在目标文件中。

- 链接阶段

- 将程序中要到的函数合并到程序文件中。

# 操作系统有两个基本功能

- 防止硬件被失控的应用程序滥用。
- 向应用程序提供简单一致的机制来控制复杂而又各不相同的硬件设备。

操作系统通过几个基本的概念来实现这两个功能。

- 文件 是对 I/O 设备的抽象表示。
- 虚拟内存 是对主存和磁盘I/O设备的抽象表示。
- 进程 则是对 处理器、主存和I/O设备的抽象表示。

- 进程 是操作系统对一个正在运行的程序的抽象。


- CPU 每个核都有寄存器和L1、L2高速缓存。L1分为数据和指令，L2是统一的。
- L3统一高速缓存为所有核共享。

# 超线程

- 是一项允许一个CPU执行多个控制流的技术，即单个物理内核同时执行多个线程。
- 它涉及CPU某些硬件有多个备份，比如程序计数器和寄存器文件。而其他的硬件部分只有一份，比如：执行浮点算术运算的单元。
- 常规的处理器大约需要 2 万个时钟周期做不同的的线程切换。
- 超线程的处理器可以在单个时钟周期的基础上决定要执行哪一个线程。
- 这使得CPU能够更好的利用它的处理资源。

# 指令集并行

- 一条指令的执行需要很多个时钟周期，但是CPU采用的聪明的流水线方式执行指令，可以达到1个时钟周期执行一条指令。
- 如果CPU可以达到比一周期一条指令更快的速度，称为超标量。

# SRAM 和 DRAM

- 锁存器(Latch)是一种对脉冲电平敏感的存储单元电路，它们可以在特定输入脉冲电平作用下改变状态。
- SRAM 不需要充电刷新，用于CPU中的高速缓存cache。
- DRAM 数据保存在电容中，需要不停的充电刷新，刷新频率一般为4 ~ 64 毫秒。用于内存条。


# X86_64 寄存器

- ymm0 ~ ymm15 一共16个256为浮点型寄存器
- xmm0 ~ xmm15 上面寄存器的低128位。
- 


