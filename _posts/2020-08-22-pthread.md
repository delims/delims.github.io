---
layout: post
author: delims
categories: iOS
---

pthread_t 是结构体指针，指向

```
    struct _opaque_pthread_t {
        long __sig;
        struct __darwin_pthread_handler_rec  *__cleanup_stack;
        char __opaque[__PTHREAD_SIZE__];
    };
```

- 函数名就是函数地址。
- 线程私有数据（Thread-specific Data，或TSD）


macOS 下 pthread 使用方法

```

// 1. 创建线程: 定义一个pthread_t类型变量
pthread_t thread;
// 2. 开启线程: 执行任务
pthread_create(&thread, NULL, run, NULL);
// 3. 设置子线程的状态设置为 detached，该线程运行结束后会自动释放所有资源
pthread_detach(thread);

void * run(void *param)    // 新线程调用方法，里边为需要执行的任务
{
    NSLog(@"%@", [NSThread currentThread]);

    return NULL;
}

```